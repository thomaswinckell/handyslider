!function(e){e.fn.slider=function(s){var t={prevButtonSelector:"#prevButton",nextButtonSelector:"#nextButton",slidesClassName:"slide",currentSlideClassName:"currentSlide",previousSlideClassName:"previous",nextSlideClassName:"next",direction:"horizontal",keySupport:!0,effect:"cubic-bezier(0.42 0 0.58 1)",timeEffect:800,loop:!0,onlySlideOnThisAnchor:!1,enablePlayPause:!1,timeBetweenTwoSlides:3e3,autoPlay:!0,playPauseButtonSelector:"#playButton",onPlay:function(){},onPause:function(){}},s=e.extend(t,s);if(0!=s.onlySlideOnThisAnchor&&"#"!=s.onlySlideOnThisAnchor[0]&&(s.onlySlideOnThisAnchor="#"+s.onlySlideOnThisAnchor),"horizontal"===s.direction)var i=37,l=39,n="left",a="right";else var i=38,l=40,n="up",a="down";return this.each(function(){this.init=function(){if(t._isPlaying=s.autoPlay,t._isSliding=!1,t._currentSlideClassName=s.currentSlideClassName,t._previousSlideClassName=s.previousSlideClassName,t._nextSlideClassName=s.nextSlideClassName,t._slidesClassName=s.slidesClassName,t._onPlay=s.onPlay,t._onPause=s.onPause,0===e("."+t._currentSlideClassName).length&&e("."+t._slidesClassName+":first").addClass(t._currentSlideClassName),t.setSlidesVisibility(),t._prevButton=e(s.prevButtonSelector),t._nextButton=e(s.nextButtonSelector),t._playPauseButton=e(s.playPauseButtonSelector),t.bindPreviousAndNextButtons(),s.keySupport&&t.bindKeys(),s.enablePlayPause&&(t.bindPlayAndPauseButtons(),t._isPlaying&&t.setTimer()),s.effect.indexOf(",")>0)var i=s.effect.replace(/, /g," "),l=s.effect;else var i=s.effect,l=s.effect.replace(/ /g,", ");e("."+t._slidesClassName).css({WebkitTransition:"all "+s.timeEffect+"ms "+i,MozTransition:"all "+s.timeEffect+"ms "+i,MsTransition:"all "+s.timeEffect+"ms "+i,OTransition:"all "+s.timeEffect+"ms "+i,transition:"all "+s.timeEffect+"ms "+i,WebkitTransition:"all "+s.timeEffect+"ms "+l,MozTransition:"all "+s.timeEffect+"ms "+l,OTransition:"all "+s.timeEffect+"ms "+l,transition:"all "+s.timeEffect+"ms "+l})},this.setSlidesVisibility=function(){var i=e("."+t._currentSlideClassName).prev("."+t._slidesClassName);0===i.length&&s.loop&&(i=e("."+t._slidesClassName+":last"));var l=e("."+t._currentSlideClassName).next("."+t._slidesClassName);0===l.length&&s.loop&&(l=e("."+t._slidesClassName+":first")),e("."+t._slidesClassName).css("display","none"),e("."+t._currentSlideClassName).css("display","block"),i.css("display","block").addClass(t._previousSlideClassName),l.css("display","block").addClass(t._nextSlideClassName)},this.showPreviousSlide=function(){var i=e("."+t._currentSlideClassName),l=i.prev("."+t._slidesClassName);if(0===l.length){if(!s.loop)return!1;l=e("."+t._slidesClassName+":last")}var o=l.prev("."+t._slidesClassName);return 0===o.length&&(o=e("."+t._slidesClassName+":last")),t.showSlide(o,l,i,n,a)},this.showNextSlide=function(){var i=e("."+t._currentSlideClassName),l=i.next("."+t._slidesClassName);if(0===l.length){if(!s.loop)return!1;l=e("."+t._slidesClassName+":first")}var o=l.next("."+t._slidesClassName);return 0===o.length&&(o=e("."+t._slidesClassName+":first")),t.showSlide(i,l,o,a,n)},this.showSlide=function(i,l,n){if(0!=s.onlySlideOnThisAnchor&&s.onlySlideOnThisAnchor!=window.location.hash)return!1;if(t._isSliding)return!1;t._isPlaying&&(window.clearTimeout(t._idTimeout),t.setTimer()),t._isSliding=!0,e("."+t._slidesClassName).css("display","none"),e("."+t._currentSlideClassName).removeClass(t._currentSlideClassName);var a=i.hasClass(t._nextSlideClassName),o=n.hasClass(t._previousSlideClassName);return e("."+t._slidesClassName+"."+t._previousSlideClassName).removeClass(t._previousSlideClassName),e("."+t._slidesClassName+"."+t._nextSlideClassName).removeClass(t._nextSlideClassName),a?(i.addClass(t._previousSlideClassName),setTimeout(function(){i.css("display","block")},s.timeEffect)):i.css("display","block").addClass(t._previousSlideClassName),o?(n.addClass(t._nextSlideClassName),setTimeout(function(){n.css("display","block")},s.timeEffect)):n.css("display","block").addClass(t._nextSlideClassName),l.css("display","block").addClass(t._currentSlideClassName),setTimeout(function(){t._isSliding=!1},s.timeEffect),!1},this.bindPreviousAndNextButtons=function(){0!==t._prevButton.length?(t._prevButtonHandler=function(){t.showPreviousSlide()},t._prevButton.bind("click",t._prevButtonHandler)):console.error("[Handy Slider] Previous button does not exists !"),0!==t._nextButton.length?(t._nextButtonHandler=function(){t.showNextSlide()},t._nextButton.bind("click",t._nextButtonHandler)):console.error("[Handy Slider] Next button does not exists !")},this.pause=function(){t._isPlaying=!1,window.clearTimeout(t._idTimeout),0!==t._playPauseButton.length&&t._onPause()},this.play=function(){t._isPlaying=!0,t.setTimer(),0!==t._playPauseButton.length&&t._playPauseButton.text("Pause")},this.bindKeys=function(){e(document).bind("keydown",function(n){if(!e("input, textarea, button").is(":focus"))switch(n.keyCode){case i:t.showPreviousSlide();break;case l:t.showNextSlide();break;case 32:s.enablePlayPause&&(t._isPlaying?t.pause():t.play())}})},this.setTimer=function(){t._idTimeout=setTimeout(function(){t.showNextSlide()},s.timeBetweenTwoSlides)},this.bindPlayAndPauseButtons=function(){0!==t._playPauseButton.length?(t._playPauseButtonHandler=function(){t._isPlaying?t.pause():t.play()},t._playPauseButton.bind("click",t._playPauseButtonHandler)):console.error("[Handy Slider] Play/Pause button does not exists !")};var t=this;t.init()})},e.fn.destroySlider=function(){return e(document).unbind("keydown"),this.each(function(){this._isPlaying=!1,window.clearTimeout(this._idTimeout),e("."+this._slidesClassName).css("display","none"),e("."+this._slidesClassName+"."+this._previousSlideClassName).removeClass(this._previousSlideClassName),e("."+this._slidesClassName+"."+this._nextSlideClassName).removeClass(this._nextSlideClassName),e("."+this._currentSlideClassName).css("display","block"),0!==this._prevButton.length&&this._prevButton.unbind("click",this._prevButtonHandler),0!==this._nextButton.length&&this._nextButton.unbind("click",this._nextButtonHandler),0!==this._playPauseButton.length&&this._playPauseButton.unbind("click",this._playPauseButtonHandler)})}}(jQuery);